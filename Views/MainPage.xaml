<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="FavCars.Views.MainPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Title="Favorite Cars">

    <VerticalStackLayout Padding="12" Spacing="12">
        <Button Text="Add Car" Clicked="OnAddCarClicked" />

        <!-- THIS name must exist for code-behind to see it -->
        <CollectionView x:Name="CarsCollectionView"
                        SelectionMode="Single"
                        SelectionChanged="OnCarSelected">
            <CollectionView.EmptyView>
                <Label Text="No cars yet. Tap 'Add Car' to create one."
                       HorizontalTextAlignment="Center" />
            </CollectionView.EmptyView>

            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame Margin="4" Padding="10" CornerRadius="10" BorderColor="#ddd">
                        <HorizontalStackLayout Spacing="12">
                            <Image Source="{Binding ImagePath}" WidthRequest="80" HeightRequest="80" Aspect="AspectFill"/>
                            <VerticalStackLayout>
                                <Label Text="{Binding Name}" FontAttributes="Bold" FontSize="18"/>
                                <Label Text="{Binding Year, StringFormat='Year: {0}'}"/>
                            </VerticalStackLayout>
                        </HorizontalStackLayout>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </VerticalStackLayout>
</ContentPage>


